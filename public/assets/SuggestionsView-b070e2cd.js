import{o as i,c,e,u as M,w as j,q as S,k as B,J,m,a as n,b as l,T as V,d as t,ac as I,F as w,r as _,i as L,ah as R,ab as H,ad as O,ae as W,af as F,j as y,l as q,v as X,ai as Y,n as G,t as d,f as C,R as K,h as P,y as Q,M as Z,X as $,g as ee,Y as te,V as se,aj as ae,_ as T}from"./index-1450ae74.js";function ne(b,h){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M18.905 12.75a1.25 1.25 0 01-2.5 0v-7.5a1.25 1.25 0 112.5 0v7.5zM8.905 17v1.3c0 .268-.14.526-.395.607A2 2 0 015.905 17c0-.995.182-1.948.514-2.826.204-.54-.166-1.174-.744-1.174h-2.52c-1.242 0-2.26-1.01-2.146-2.247.193-2.08.652-4.082 1.341-5.974C2.752 3.678 3.833 3 5.005 3h3.192a3 3 0 011.342.317l2.733 1.366A3 3 0 0013.613 5h1.292v7h-.963c-.684 0-1.258.482-1.612 1.068a4.012 4.012 0 01-2.165 1.73c-.433.143-.854.386-1.012.814-.16.432-.248.9-.248 1.388z"})])}function ie(b,h){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M1 8.25a1.25 1.25 0 112.5 0v7.5a1.25 1.25 0 11-2.5 0v-7.5zM11 3V1.7c0-.268.14-.526.395-.607A2 2 0 0114 3c0 .995-.182 1.948-.514 2.826-.204.54.166 1.174.744 1.174h2.52c1.243 0 2.261 1.01 2.146 2.247a23.864 23.864 0 01-1.341 5.974C17.153 16.323 16.072 17 14.9 17h-3.192a3 3 0 01-1.341-.317l-2.734-1.366A3 3 0 006.292 15H5V8h.963c.685 0 1.258-.483 1.612-1.068a4.011 4.011 0 012.166-1.73c.432-.143.853-.386 1.011-.814.16-.432.248-.9.248-1.388z"})])}function oe(b,h){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])}const le={"aria-live":"assertive",class:"pointer-events-none fixed inset-0 flex items-end px-4 py-6 sm:items-start sm:p-6"},re={class:"flex w-full flex-col items-center space-y-4 sm:items-end"},ce={key:0,class:"pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5"},de={class:"p-4"},ue={class:"flex items-start"},ge={class:"flex-shrink-0"},me=e("div",{class:"ml-3 w-0 flex-1 pt-0.5"},[e("p",{class:"text-sm font-medium text-gray-900"},"Error :("),e("p",{class:"mt-1 text-sm text-gray-500"}," Du hast für den Vorschlag schon abgestimmt. Du kannst deine Meinung nur ändern und nicht erneut abstimmen ")],-1),he={class:"ml-4 flex flex-shrink-0"},fe=e("span",{class:"sr-only"},"Close",-1),pe=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),we={class:"fixed inset-0 z-10 overflow-y-auto"},xe={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ve={class:"text-center sm:mt-5"},_e={class:"text-left"},ye=e("label",{for:"suggestion",class:"block text-sm font-medium leading-6 text-gray-900"},"Vorschlag:",-1),be={class:"mt-2"},ke={class:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3"},Se={class:"min-h-full"},Ge={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Ce={class:"flex h-20 items-center justify-between"},$e={class:"flex items-center"},De=e("div",{class:"flex-shrink-0"},[e("img",{class:"block h-16 w-auto lg:hidden",src:T,alt:"Westwien Logo"}),e("img",{class:"hidden h-16 w-auto lg:block",src:T,alt:"Westwien Logo"})],-1),Ne={class:"hidden md:block"},Ue={class:"ml-10 flex items-baseline space-x-4"},Ve=["onClick","aria-current"],Ie={class:"hidden md:block"},Le={class:"ml-4 flex items-center md:ml-6"},Oe=e("span",{class:"absolute -inset-1.5"},null,-1),Te=e("span",{class:"sr-only"},"Open user menu",-1),ze=["src"],Ee={class:"-mr-2 flex md:hidden"},Ae=e("span",{class:"absolute -inset-0.5"},null,-1),Me=e("span",{class:"sr-only"},"Open main menu",-1),je={class:"space-y-1 px-2 pb-3 pt-2 sm:px-3"},Be={key:0,class:"border-t border-wwDarkGreen pb-3 pt-4"},Je={class:"flex items-center px-5"},Re={class:"flex-shrink-0"},He=["src"],We={class:"ml-3"},Fe={class:"text-base font-medium text-white"},qe={class:"mt-3 space-y-1 px-2"},Xe={class:"bg-white shadow"},Ye={class:"flex mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8 justify-between"},Ke=e("h1",{class:"text-3xl font-bold leading-tight tracking-tight text-gray-900"},"Vorschläge",-1),Pe={class:"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8"},Qe=e("p",{class:"mx-5 mb-7"}," Hier könnt ihr Vorschläge was wir am Ende der Saison mit dem ganzen Geld machen könnten. Wenn ihr einen Vorschlag habt, schreibt ihn einfach rein. Ihr könnt dann für die anderen Vorschläge abstimmen, ob sie euch gefallen oder nicht ",-1),Ze={key:0,role:"list",class:"divide-y divide-gray-100 ml-5 mr-4"},et={class:"flex-auto"},tt={class:"flex justify-between gap-x-4"},st={class:"text-sm font-semibold leading-6 text-gray-900 mb-3"},at=["onClick"],nt=["onClick"],it={class:"mt-1 text-sm leading-6 text-gray-600"},ot={key:1,class:"text-center text-xl font-bold mt-7"},rt={__name:"SuggestionsView",setup(b){const h=M(),u=j(),k=S([]),f=S(!1);let g=S(!1);const x=B({sug:""});J(async()=>{await p()});async function p(){const{data:s}=await m.get("/suggestions");console.log(s),k.value=s}async function z(s){console.log("Clicked");try{if(JSON.parse(localStorage.getItem(`SUGGESTION${s.sg_id}`)).type==="like")f.value=!0,setTimeout(()=>{f.value=!1},3e3);else{await m.patch(`/entfSuggestionsD/${s.sg_id}`);const{data:o}=await m.patch(`/suggestionsL/${s.sg_id}`);o.type="like",localStorage.removeItem(`SUGGESTION${s.sg_id}`),localStorage.setItem(`SUGGESTION${s.sg_id}`,JSON.stringify(o)),await p()}}catch{s.type="like",localStorage.setItem(`SUGGESTION${s.sg_id}`,JSON.stringify(s)),await m.patch(`/suggestionsL/${s.sg_id}`),await p()}}async function E(s){console.log("Clicked");try{if(JSON.parse(localStorage.getItem(`SUGGESTION${s.sg_id}`)).type==="dislike")f.value=!0,setTimeout(()=>{f.value=!1},3e3);else{await m.patch(`/entfSuggestionsL/${s.sg_id}`);const{data:o}=await m.patch(`/suggestionsD/${s.sg_id}`);o.type="dislike",localStorage.removeItem(`SUGGESTION${s.sg_id}`),localStorage.setItem(`SUGGESTION${s.sg_id}`,JSON.stringify(o)),await p()}}catch{s.type="dislike",localStorage.setItem(`SUGGESTION${s.sg_id}`,JSON.stringify(s)),await m.patch(`/suggestionsD/${s.sg_id}`),await p()}}async function A(s){s.preventDefault(),x.sug.length>0&&(await m.post("/suggestions",{suggestion:x.sug}),await p(),D())}function D(){x.sug="",g.value=!1}const N=[{name:"Home",path:"/",current:!1},{name:"Regeln",path:"/rules",current:!1},{name:"Statistik",path:"/stats",current:!1},{name:"Suggestions",path:"/suggestions",current:!0}],U=[{name:"Sign out",href:"#"}];return(s,r)=>(i(),c(w,null,[e("div",le,[e("div",re,[n(V,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:l(()=>[f.value?(i(),c("div",ce,[e("div",de,[e("div",ue,[e("div",ge,[n(t(oe),{class:"h-6 w-6 text-red-600","aria-hidden":"true"})]),me,e("div",he,[e("button",{type:"button",onClick:r[0]||(r[0]=o=>f.value=!1),class:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2"},[fe,n(t(L),{class:"h-5 w-5","aria-hidden":"true"})])])])])])):R("",!0)]),_:1})])]),n(t(Y),{as:"template",show:t(g)},{default:l(()=>[n(t(H),{as:"div",class:"relative z-10",onClose:r[2]||(r[2]=o=>I(g)?g.value=!0:g=!0)},{default:l(()=>[n(t(O),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>[pe]),_:1}),e("div",we,[e("div",xe,[n(t(O),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:l(()=>[n(t(W),{class:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:l(()=>[e("div",null,[e("div",ve,[n(t(F),{as:"h1",class:"font-semibold leading-6 text-gray-900 text-xl mb-5"},{default:l(()=>[y("Neuer Vorschlag")]),_:1}),e("div",_e,[ye,e("div",be,[q(e("textarea",{"onUpdate:modelValue":r[1]||(r[1]=o=>x.sug=o),rows:"4",name:"suggestion",id:"suggestion",class:"pl-3 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-wwGreen sm:text-sm sm:leading-6"},null,512),[[X,x.sug]])])])])]),e("div",ke,[e("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-wwGreen px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-wwDarkGreen focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-wwGreen sm:col-start-2",onClick:A}," Hinzufügen "),e("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:col-start-1 sm:mt-0",onClick:D,ref:"cancelButtonRef"}," Cancel ",512)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),e("div",Se,[n(t(se),{as:"nav",class:"bg-wwGreen"},{default:l(({open:o})=>[e("div",Ge,[e("div",Ce,[e("div",$e,[De,e("div",Ne,[e("div",Ue,[(i(),c(w,null,_(N,a=>e("a",{key:a.name,onClick:v=>t(h).push(a.path),class:G([a.current?"bg-wwDarkGreen text-white":"text-white hover:bg-wwLightGreen hover:bg-opacity-75","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":a.current?"page":void 0},d(a.name),11,Ve)),64))])])]),e("div",Ie,[e("div",Le,[t(u).getAktiverUser?(i(),C(t(Z),{key:0,as:"div",class:"relative ml-3"},{default:l(()=>[e("div",null,[n(t(K),{class:"relative flex max-w-xs items-center rounded-full bg-wwGreen text-sm text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-wwDarkGreen"},{default:l(()=>[Oe,Te,e("img",{class:"h-8 w-8 rounded-full",src:t(u).getAktiverUser.profilbild_url,alt:""},null,8,ze)]),_:1})]),n(V,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:l(()=>[n(t(P),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:l(()=>[(i(),c(w,null,_(U,a=>n(t(Q),{onClick:t(u).deleteAktivenUser,key:a.name},{default:l(({active:v})=>[e("a",{class:G([v?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},d(a.name),3)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]),_:1})):(i(),c("button",{key:1,type:"button",class:"rounded-md bg-wwGray px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-wwDarkGray",onClick:r[3]||(r[3]=a=>t(h).push("/login"))}," Login "))])]),e("div",Ee,[n(t($),{class:"relative inline-flex items-center justify-center rounded-md bg-wwGreen p-2 text-indigo-200 hover:bg-wwLightGreen hover:bg-opacity-75 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-wwDarkGreen"},{default:l(()=>[Ae,Me,o?(i(),C(t(L),{key:1,class:"block h-6 w-6 text-wwGray","aria-hidden":"true"})):(i(),C(t(ee),{key:0,class:"block h-6 w-6 text-wwGray","aria-hidden":"true"}))]),_:2},1024)])])]),n(t(te),{class:"md:hidden"},{default:l(()=>[e("div",je,[(i(),c(w,null,_(N,a=>n(t($),{key:a.name,as:"a",onClick:v=>t(h).push(a.path),class:G([a.current?"bg-wwDarkGreen text-white":"text-white hover:bg-wwLightGreen hover:bg-opacity-75","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":a.current?"page":void 0},{default:l(()=>[y(d(a.name),1)]),_:2},1032,["onClick","class","aria-current"])),64))]),t(u).getAktiverUser?(i(),c("div",Be,[e("div",Je,[e("div",Re,[e("img",{class:"h-10 w-10 rounded-full z-0",src:t(u).getAktiverUser.profilbild_url,alt:""},null,8,He)]),e("div",We,[e("div",Fe,d(t(u).getAktiverUser.vorname)+" "+d(t(u).getAktiverUser.nachname),1)])]),e("div",qe,[(i(),c(w,null,_(U,a=>n(t($),{key:a.name,as:"a",onClick:t(u).deleteAktivenUser,class:"block rounded-md px-3 py-2 text-base font-medium text-white hover:bg-wwLightGreen hover:bg-opacity-75"},{default:l(()=>[y(d(a.name),1)]),_:2},1032,["onClick"])),64))])])):(i(),c("button",{key:1,type:"button",class:"rounded-md bg-wwGray px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-wwDarkGray m-5",onClick:r[4]||(r[4]=a=>t(h).push("/login"))}," Login "))]),_:1})]),_:1}),e("header",Xe,[e("div",Ye,[Ke,e("button",{onClick:r[5]||(r[5]=o=>I(g)?g.value=!0:g=!0),type:"button",class:"mx-3 rounded-full bg-wwGreen p-2 text-white shadow-sm hover:bg-wwDarkGreen focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-wwDarkGreen"},[n(t(ae),{class:"h-5 w-5","aria-hidden":"true"})])])]),e("main",null,[e("div",Pe,[Qe,k.value.length>0?(i(),c("ul",Ze,[(i(!0),c(w,null,_(k.value,(o,a)=>(i(),c("li",{key:a,class:"flex gap-x-4 py-5"},[e("div",et,[e("div",tt,[e("p",st,[e("span",{onClick:v=>z(o),class:"mr-3 inline-flex items-center gap-x-1.5 rounded-md bg-green-100 px-2 py-1 text-xs font-medium text-green-700"},[n(t(ie),{class:"h-5 w-5"}),y(" "+d(o.likes),1)],8,at),e("span",{onClick:v=>E(o),class:"inline-flex items-center gap-x-1.5 rounded-md bg-red-100 px-2 py-1 text-xs font-medium text-red-700"},[n(t(ne),{class:"h-5 w-5"}),y(" "+d(o.dislikes),1)],8,nt)])]),e("p",it,d(o.suggestion),1)])]))),128))])):(i(),c("h1",ot," Es sind noch keine Vorschläge vorhanden "))])])])],64))}};export{rt as default};
